<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Ai doctor</title>
    <!-- Linking Google Fonts For Icons -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Update navigation bar with correct links -->
    <nav class="navbar" style="background-color: #f8f9fa; padding: 10px;">
        <ul class="nav-list" style="list-style: none; display: flex; justify-content: center; margin: 0; padding: 0;">
            <li class="nav-item" style="margin: 0 15px;">
                <a href="../index.html" class="nav-link" style="text-decoration: none; color: #007bff;">Home</a>
            </li>
            <li class="nav-item" style="margin: 0 15px;">
                <a href="../about.html" class="nav-link" style="text-decoration: none; color: #007bff;">About</a>
            </li>
            <li class="nav-item" style="margin: 0 15px;">
                <a href="../services.html" class="nav-link" style="text-decoration: none; color: #007bff;">Services</a>
            </li>
            <li class="nav-item" style="margin: 0 15px;">
                <a href="../how-it-works.html" class="nav-link" style="text-decoration: none; color: #007bff;">How It Works</a>
            </li>
            <li class="nav-item" style="margin: 0 15px;">
                <a href="../faqs.html" class="nav-link" style="text-decoration: none; color: #007bff;">FAQs</a>
            </li>
            <li class="nav-item" style="margin: 0 15px;">
                <a href="../blog.html" class="nav-link" style="text-decoration: none; color: #007bff;">Blog</a>
            </li>
            <li class="nav-item" style="margin: 0 15px;">
                <a href="../contact%20us.html" class="nav-link" style="text-decoration: none; color: #007bff;">Contact</a>
            </li>
            <li class="nav-item" style="margin: 0 15px;">
                <a href="../Frontend-Project-main/talk to doctor.html" class="nav-link" style="text-decoration: none; color: #007bff;">Talk to Doctor</a>
            </li>
            <li class="nav-item" style="margin: 0 15px;">
                <a href="../login.html" class="nav-link" style="text-decoration: none; color: #007bff;">Login</a>
            </li>
            <li class="nav-item" style="margin: 0 15px;">
                <a href="../register.html" class="nav-link" style="text-decoration: none; color: #007bff;">Register</a>
            </li>
        </ul>
    </nav>

    <header class="header">
        <a href="../index.html" style="display: flex; align-items: center;">
            <img src="logo.png" alt="Platform Logo" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover; margin-right: 10px;" />
        </a>
        <h1 class="title">Hello there</h1>
        <p class="subtitle">How can I help you today?</p>
    </header>

    <!-- Suggestion list -->
    <ul class="suggestion-list">
        <li class="suggestion">
            <h4 class="text">Help me plan a game night with my 5 best friends for under $100.</h4>
            <span class="icon material-symbols-rounded">draw</span>
        </li>
        <li class="suggestion">
            <h4 class="text">What are the best tips to improve my public speaking skills?</h4>
            <span class="icon material-symbols-rounded">lightbulb</span>
        </li>
        <li class="suggestion">
            <h4 class="text">Can you help me find the latest news on web development?</h4>
            <span class="icon material-symbols-rounded">explore</span>
        </li>
        <li class="suggestion">
            <h4 class="text">Write JavaScript code to sum all elements in an array.</h4>
            <span class="icon material-symbols-rounded">code</span>
        </li>
    </ul>

    <!-- Chat List / Container -->
    <div class="chat-list">
    </div>

    <!-- Typing Area -->
    <div class="typing-area">
        <form action="#" class="typing-form">
            <div class="input-wrapper">
                <input type="text" placeholder="Enter a prompt here" class="typing-input" required />
                <button id="send-message-button" class="icon material-symbols-rounded">send</button>
            </div>
            <div class="action-buttons">
                <span id="theme-toggle-button" class="icon material-symbols-rounded">light_mode</span>
                <span id="delete-chat-button" class="icon material-symbols-rounded">delete</span>
            </div>
        </form>
        <p class="disclaimer-text">
            Please note: Responses generated by AI Doctor may not always be accurate. Verify information before relying on it.
        </p>
    </div>

    <script src="script.js"></script>
    <script>
        const chatContainer = document.querySelector(".chat-list");
        const typingForm = document.querySelector(".typing-form");
        const typingInput = document.querySelector(".typing-input");

        const ws = new WebSocket('ws://localhost:8080');

        ws.onopen = () => {
            console.log('Connected to WebSocket server');
        };

        ws.onmessage = (event) => {
            const { userId, content } = JSON.parse(event.data);
            const messageElement = document.createElement("div");
            messageElement.classList.add("message", "incoming");
            messageElement.innerHTML = `<p>${content}</p>`;
            chatContainer.appendChild(messageElement);
            chatContainer.scrollTo(0, chatContainer.scrollHeight);
        };

        typingForm.addEventListener("submit", (e) => {
            e.preventDefault();
            const userMessage = typingInput.value.trim();
            if (!userMessage) return;

            const messageElement = document.createElement("div");
            messageElement.classList.add("message", "outgoing");
            messageElement.innerHTML = `<p>${userMessage}</p>`;
            chatContainer.appendChild(messageElement);

            ws.send(JSON.stringify({ userId: 'user123', content: userMessage }));
            typingInput.value = "";
            chatContainer.scrollTo(0, chatContainer.scrollHeight);
        });
    </script>
</body>

</html>